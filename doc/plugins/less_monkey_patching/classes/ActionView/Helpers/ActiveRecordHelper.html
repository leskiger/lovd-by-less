<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: ActionView::Helpers::ActiveRecordHelper</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">ActionView::Helpers::ActiveRecordHelper</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/vendor/plugins/less_monkey_patching/lib/active_record_helper_rb.html">
                vendor/plugins/less_monkey_patching/lib/active_record_helper.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000051">error_messages_on</a>&nbsp;&nbsp;
      <a href="#M000052">errors_to_s</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000051" class="method-detail">
        <a name="M000051"></a>

        <div class="method-heading">
          <a href="#M000051" class="method-signature">
          <span class="method-name">error_messages_on</span><span class="method-args">(object, method, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a string with a div containing all of the error messages for the
object and method located as instance variables by the names given. This
method mimics the output of <tt>error_messages_for</tt>, and is meant to be
used in leau of <tt>error_message_on</tt>.
</p>
<p>
This div can be tailored by the following options:
</p>
<ul>
<li><tt>id</tt> - The id of the error div (default: errorExplanation)

</li>
<li><tt>class</tt> - The class of the error div (default: errorExplanation)

</li>
<li><tt>method_name</tt> - The object name to use in the header, or

</li>
</ul>
<p>
any text that you prefer. If <tt>method_name</tt> is not set, the name of
the method will be used.
</p>
<p>
Specifying one object:
</p>
<pre>
  error_messages_on 'user', 'login'
</pre>
<p>
NOTE: This is a pre-packaged presentation of the errors with embedded
strings and a certain HTML structure. If what you need is significantly
different from the default presentation, it makes plenty of sense to access
the object.errors instance yourself and set it up. View the source of this
method to see how easy it is.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000051-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000051-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/less_monkey_patching/lib/active_record_helper.rb, line 27</span>
27:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">error_messages_on</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">method</span>, <span class="ruby-identifier">options</span> = {})
28:     <span class="ruby-identifier">html</span> = {}
29:     <span class="ruby-identifier">options</span>.<span class="ruby-identifier">stringify_keys!</span>
30:     [<span class="ruby-value str">'id'</span>, <span class="ruby-value str">'class'</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
31:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">key</span>)
32:         <span class="ruby-identifier">value</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">key</span>]
33:         <span class="ruby-identifier">html</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">blank?</span>
34:       <span class="ruby-keyword kw">else</span>
35:         <span class="ruby-identifier">html</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-value str">'errorExplanation'</span>
36:       <span class="ruby-keyword kw">end</span>
37:     <span class="ruby-keyword kw">end</span>
38:     <span class="ruby-identifier">name</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value str">'method_name'</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">humanize</span>.<span class="ruby-identifier">capitalize</span>
39:     <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">obj</span> = <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-node">&quot;@#{object}&quot;</span>)) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">errors</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-identifier">method</span>))
40:       [<span class="ruby-identifier">errors</span>].<span class="ruby-identifier">flatten!</span>
41:     <span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:div</span>,
42:       <span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:ul</span>, <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">msg</span><span class="ruby-operator">|</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:li</span>, <span class="ruby-node">&quot;#{name} #{msg}&quot;</span>) }),
43:       <span class="ruby-identifier">html</span>
44:     )
45:     <span class="ruby-keyword kw">else</span> 
46:       <span class="ruby-value str">''</span>
47:     <span class="ruby-keyword kw">end</span>
48:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000052" class="method-detail">
        <a name="M000052"></a>

        <div class="method-heading">
          <a href="#M000052" class="method-signature">
          <span class="method-name">errors_to_s</span><span class="method-args">(errors)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000052-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000052-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/less_monkey_patching/lib/active_record_helper.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">errors_to_s</span>(<span class="ruby-identifier">errors</span>)
53:     <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span>, <span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
54:       <span class="ruby-node">&quot;#{e.humanize unless e == &quot;base&quot;} #{m}\n&quot;</span>
55:     <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">chomp</span>
56:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>